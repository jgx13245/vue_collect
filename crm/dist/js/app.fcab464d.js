(function(t){function e(e){for(var r,n,o=e[0],l=e[1],c=e[2],d=0,u=[];d<o.length;d++)n=o[d],s[n]&&u.push(s[n][0]),s[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);h&&h(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,n=1;n<a.length;n++){var o=a[n];0!==s[o]&&(r=!1)}r&&(i.splice(e--,1),t=l(l.s=a[0]))}return t}var r={},n={app:0},s={app:0},i=[];function o(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-c8a96ace":"828882ca"}[t]+".js"}function l(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={"chunk-c8a96ace":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise(function(e,a){for(var r="css/"+({}[t]||t)+"."+{"chunk-c8a96ace":"d49bfcb7"}[t]+".css",s=l.p+r,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var c=i[o],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===r||d===s))return e()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){c=u[o],d=c.getAttribute("data-href");if(d===r||d===s)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var r=e&&e.target&&e.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete n[t],h.parentNode.removeChild(h),a(i)},h.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(h)}).then(function(){n[t]=0}));var r=s[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise(function(e,a){r=s[t]=[e,a]});e.push(r[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=o(t),c=function(e){d.onerror=d.onload=null,clearTimeout(u);var a=s[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+r+": "+n+")");i.type=r,i.request=n,a[1](i)}s[t]=void 0}};var u=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=r,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(a,r,function(e){return t[e]}.bind(null,r));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var h=d;i.push([1,"chunk-vendors"]),a()})({0:function(t,e){},1:function(t,e,a){t.exports=a("56d7")},2:function(t,e){},2703:function(t,e,a){},"2cdb":function(t,e,a){},3:function(t,e){},3097:function(t,e,a){},"327e":function(t,e,a){"use strict";var r=a("cf7b"),n=a.n(r);n.a},"350b":function(t,e,a){"use strict";var r=a("a998"),n=a.n(r);n.a},4678:function(t,e,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=s(t);return a(e)}function s(t){var e=r[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}n.keys=function(){return Object.keys(r)},n.resolve=s,t.exports=n,n.id="4678"},"564d":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("0fb7"),a("450d");var r=a("f529"),n=a.n(r),s=(a("9e1f"),a("6ed5")),i=a.n(s),o=(a("9d4c"),a("e450")),l=a.n(o),c=(a("10cb"),a("f3ad")),d=a.n(c),u=(a("915d"),a("e04d")),h=a.n(u),m=(a("06f1"),a("6ac9")),f=a.n(m),p=(a("672e"),a("101e")),v=a.n(p),y=(a("ae26"),a("845f")),b=a.n(y),g=(a("5466"),a("ecdf")),k=a.n(g),D=(a("38a0"),a("ad41")),_=a.n(D),j=(a("016f"),a("486c")),C=a.n(j),x=(a("6611"),a("e772")),T=a.n(x),w=(a("1f1a"),a("4e4b")),Y=a.n(w),M=(a("826b"),a("c263")),S=a.n(M),G=(a("1951"),a("eedf")),I=a.n(G),O=(a("f4f9"),a("c2cc")),$=a.n(O),E=(a("7a0f"),a("0f6c")),P=a.n(E),L=(a("0c67"),a("299c")),H=a.n(L),A=(a("ce18"),a("f58e")),z=a.n(A),F=(a("de31"),a("c69e")),N=a.n(F),R=(a("a673"),a("7b31")),W=a.n(R),K=(a("8bd8"),a("4cb2")),q=a.n(K),B=(a("4ca3"),a("443e")),U=a.n(B),J=(a("a769"),a("5cc3")),V=a.n(J),Z=(a("adec"),a("3d2d")),Q=a.n(Z),X=(a("d4df"),a("7fc1")),tt=a.n(X),et=(a("560b"),a("dcdc")),at=a.n(et),rt=(a("cadf"),a("551c"),a("f751"),a("097d"),a("a026")),nt=a("c1df"),st=a.n(nt),it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},ot=[],lt=(a("5c0b"),a("2877")),ct={},dt=Object(lt["a"])(ct,it,ot,!1,null,null,null),ut=dt.exports,ht=a("8c4f"),mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-aside",{staticStyle:{"background-color":"#041427"},attrs:{width:t.asideWidth}},[a("el-header",{staticClass:"aside-header",staticStyle:{background:"#fff"}},[t._v("\n      24-igo\n    ")]),a("el-menu",{attrs:{"default-active":"4",collapse:t.isCollapse,"collapse-transition":!1,"unique-opened":!0,"background-color":"#041427","active-text-color":"#FFF","text-color":"#666666",router:""}},[a("el-menu-item",{attrs:{index:"/home"}},[a("i",{staticClass:"el-icon-message"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("订单数据")])]),a("el-menu-item",{attrs:{index:"orderType"}},[t._v("订单类型")]),a("el-menu-item",{attrs:{index:"payInterval"}},[t._v("消费区间")]),a("el-menu-item",{attrs:{index:"orderTime"}},[t._v("下单时间")])],2),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-document"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("商品数据")])]),a("el-menu-item",{attrs:{index:"goods"}},[t._v("商品类型")])],2),a("el-submenu",{attrs:{index:"5"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-document"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("超市状态")])]),a("el-menu-item",{attrs:{index:"market"}},[t._v("运营状态")])],2)],1)],1),a("el-container",{staticClass:"content-wrap"},[a("el-header",{staticClass:"igo-header"},[a("div",{staticClass:"igo-header_market"},[a("span",{staticClass:"icon icon-menu-collapse",on:{click:t.handleCollapseMenu}}),t._v("\n         当前超市为:\n        "),a("div",[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.change},model:{value:t.marketId,callback:function(e){t.marketId=e},expression:"marketId"}},t._l(t.options,function(t){return a("el-option",{key:t.marketId,attrs:{label:t.marketName,value:t.marketId}})}),1)],1)])]),a("el-main",{staticClass:"igo-main"},[a("router-view")],1)],1)],1)},ft=[],pt=(a("96cf"),a("3b8d")),vt=a("cebc"),yt=a("2f62"),bt=a("a474"),gt={data:function(){return{isCollapse:!1,asideWidth:"",options:[],marketId:""}},watch:{isCollapse:{handler:function(t){this.asideWidth=t?"65px":"160px"},immediate:!0}},methods:Object(vt["a"])({},Object(yt["b"])({updateMarketId:"updateMarketId",updateMarketList:"updateMarketList"}),{getMarketList:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e){var a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(bt["a"])({currentUserId:e});case 2:a=t.sent,r=a.data.data,this.options=r,this.updateMarketList(r),this.marketId=r[0].marketId,this.updateMarketId(this.marketId),this.$router.push({path:"./home"});case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),change:function(){this.updateMarketId(this.marketId)},handleCollapseMenu:function(){this.isCollapse?this.isCollapse=!1:this.isCollapse=!0}}),mounted:function(){var t=1;this.getMarketList(t)}},kt=gt,Dt=(a("ca9c"),Object(lt["a"])(kt,mt,ft,!1,null,null,null)),_t=Dt.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:6}},[a("summary-card",{attrs:{title:"总销售总额",prefix:"¥",info:t.saleData.saleInfo,tipPrefix:"单日销售额",tip:t.saleData.saleTip}})],1),a("el-col",{attrs:{span:6}},[a("summary-card",{attrs:{title:"总注册量",info:t.saleData.visitInfo,tipPrefix:"单日注册量",tip:t.saleData.visitTip}})],1),a("el-col",{attrs:{span:6}},[a("summary-card",{attrs:{title:"总支付笔数",info:t.saleData.payInfo,tipPrefix:"单日支付笔数",tip:t.saleData.payTip}})],1),a("el-col",{attrs:{span:6}},[a("summary-card",{attrs:{title:"总商品销售数量",info:t.saleData.goodsInfo,tipPrefix:"单日商品销售数量",tip:t.saleData.goodsTip}})],1)],1),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:24}},[a("home-sale",{attrs:{rank:t.MarketList,sale:t.saleTrend}})],1)],1),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:12}},[a("home-category",{attrs:{list:t.saleClassify}})],1),a("el-col",{attrs:{span:12}},[a("home-order",{attrs:{list:t.customerPay}})],1)],1)],1)},Ct=[],xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"summary-card"},[a("header",{staticClass:"summary-card__header"},[a("span",[t._v(t._s(t.title))]),a("el-tooltip",{attrs:{effect:"dark",content:"指标说明",placement:"left"}},[a("span",{staticClass:"icon icon-tip"})])],1),a("p",{staticClass:"summary-card__info"},[t._v(t._s(t.prefix)+" "+t._s(t._f("formatAmount")(t.info)))]),t._t("content"),a("p",{staticClass:"summary-card__tip"},[t._v(t._s(t.tipPrefix)+" "+t._s(t._f("formatAmount")(t.tip))+t._s(t.tipSuffix))])],2)},Tt=[],wt=(a("c5f6"),{filters:{formatAmount:function(t){return t.toLocaleString()}}}),Yt={mixins:[wt],props:{title:{type:String,default:""},prefix:{type:String,default:""},info:{type:Number,default:0},tipPrefix:{type:String,default:""},tip:{type:Number,default:0},tipSuffix:{type:String,default:""}}},Mt=Yt,St=Object(lt["a"])(Mt,xt,Tt,!1,null,null,null),Gt=St.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"home-sale"},[a("header",{staticClass:"home-sale__header"},[a("span",{staticClass:"home-sale__title"},[t._v("销售额")]),a("div",{staticClass:"home-sale__tool"},[a("el-button-group")],1)]),a("div",{staticClass:"home-sale__content"},[t._m(0),a("section",{staticClass:"home-sale__list"},[a("h5",{staticClass:"home-sale__subtitle"},[t._v("门店销售额排名")]),a("ul",{staticClass:"home-sale__rank"},t._l(t.rank,function(e,r){return a("li",{key:r,staticClass:"home-sale__rankitem"},[a("span",{staticClass:"home-sale__rankitem-title",class:r<3?"is-top":"",attrs:{"data-index":r+1}},[t._v(t._s(e.marketName))]),a("span",[t._v(t._s(t._f("formatAmount")(e.value)))])])}),0)])])])},Ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"home-sale__chart"},[a("h5",{staticClass:"home-sale__subtitle"},[t._v("销售趋势")]),a("div",{attrs:{id:"js-home-sale"}})])}],$t=a("7f1a"),Et=a.n($t),Pt={mixins:[wt],props:{sale:{type:Array,default:function(){return[]}},rank:{type:Array,default:function(){return[]}}},data:function(){return{time:[],chart:null}},watch:{sale:{handler:function(t){var e=this;this.$nextTick(function(){e.drawChart(t)})},immediate:!1}},methods:{drawChart:function(t){this.chart&&this.chart.destroy(),this.chart=new Et.a.Chart({container:"js-home-sale",forceFit:!0,height:400,padding:[20,20,30,90]}),this.chart.source(t,{value:{tickCount:5}}),this.chart.legend(!1),this.chart.axis("value",{label:{textStyle:{fill:"#aaaaaa"},formatter:function(t){return"".concat(t,"元")}},title:{offset:100}}),this.chart.scale("value",{alias:"销售额"}),this.chart.axis("type",{label:{textStyle:{fill:"#aaaaaa"},formatter:function(t){return"".concat(t,"月")}},position:"bottom",tickLine:{alignWithLabel:!1,length:0}}),this.chart.tooltip({share:!0}),this.chart.interval().position("type*value").opacity(1),this.chart.render()}}},Lt=Pt,Ht=Object(lt["a"])(Lt,It,Ot,!1,null,null,null),At=Ht.exports,zt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"home-category"},[a("header",{staticClass:"home-category__header"},[a("span",[t._v("销售数量占比")])]),a("div",{attrs:{id:"js-home-category"}})])}],Nt={mixins:[wt],props:{list:{type:Array,default:function(){return[]}}},watch:{list:{handler:function(t){this.drawPie(t)},immediate:!1}},data:function(){return{chart:null}},methods:{drawPie:function(t){var e=t.map(function(t){return t.value}).reduce(function(t,e){return t+e},0),a=.01;Et.a.Shape.registerShape("interval","sliceShape",{draw:function(t,e){var r=t.points,n=[];return n.push(["M",r[0].x,r[0].y]),n.push(["L",r[1].x,r[1].y-a]),n.push(["L",r[2].x,r[2].y-a]),n.push(["L",r[3].x,r[3].y]),n.push("Z"),n=this.parsePath(n),e.addShape("path",{attrs:{fill:t.color,path:n}})}}),this.chart&&this.chart.destroy(),this.chart=new Et.a.Chart({container:"js-home-category",forceFit:!0,height:400,padding:[20,250,20,20]}),this.chart.source(t),this.chart.coord("theta",{innerRadius:.75}),this.chart.tooltip({showTitle:!1}),this.chart.legend({useHtml:!0,position:"right-center",legendStyle:{MARKER_CLASS:{}},itemTpl:function(a,r,n,s){var i=t[s],o=n?"checked":"unChecked";return'\n            <li class="g2-legend-list-item item-'.concat(s," ").concat(o,'" data-index="').concat(s,'" data-value="').concat(a,'" data-color="').concat(r,'" style="cursor: pointer;font-size: 14px;display: flex;">\n              <span class="g2-legend-marker" style="background-color: ').concat(r,';"></span>\n              <span style="display: inline-block;min-width: 60px;">').concat(i.type,'</span>\n              <span style="padding: 0 4px; color: #909090;display: inline-block;min-width: 60px;text-align: right;">').concat((i.value/e*100).toFixed(2),"%</span>\n            </li>\n          ")}}),this.chart.guide().html({position:["50%","50%"],html:'\n          <div class="g2-guide-html">\n            <p>商品数量</p>\n            <p>\n              <span class="prefix"></span>\n              <span class="content">'.concat(e.toLocaleString(),"</span>\n            </p>\n          </div>")}),this.chart.intervalStack().position("value").color("type").shape("sliceShape"),this.chart.render()}}},Rt=Nt,Wt=(a("6e8a"),Object(lt["a"])(Rt,zt,Ft,!1,null,null,null)),Kt=Wt.exports,qt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"home-order"},[a("header",{staticClass:"home-order__header"},[a("span",[t._v("注册人数与支付笔数关系")])]),a("div",{attrs:{id:"js-home-order"}})])}],Ut={props:{list:{type:Array,default:function(){return[]}}},watch:{list:{handler:function(t){this.drawLine(t)},immediate:!1}},data:function(){return{chart:null}},methods:{drawLine:function(t){this.chart&&this.chart.destroy(),this.chart=new Et.a.Chart({container:"js-home-order",forceFit:!0,height:400,padding:[50,20,20,50]}),this.chart.axis("date",{label:{textStyle:{fill:"#aaaaaa"}}}),this.chart.axis("blockchain",{label:{textStyle:{fill:"#aaaaaa"}}}),this.chart.axis("nlp",!1),this.chart.tooltip({crosshairs:!1}),this.chart.legend({position:"top-center"}),this.chart.source(t,{nlp:{min:0,max:300,alias:"支付笔数"},blockchain:{min:0,max:300,alias:"注册人数"}}),this.chart.line().position("date*blockchain").color("#1890ff"),this.chart.line().position("date*nlp").color("#2fc25b"),this.chart.render()}}},Jt=Ut,Vt=Object(lt["a"])(Jt,qt,Bt,!1,null,null,null),Zt=Vt.exports,Qt={data:function(){return{saleTrend:[],saleData:[],saleClassify:[],customerPay:[]}},components:{"summary-card":Gt,"home-sale":At,"home-category":Kt,"home-order":Zt},mounted:function(){var t=localStorage.getItem("marketId");this.handleGetHomeSale(t)},computed:Object(vt["a"])({},Object(yt["c"])(["MarketList","MarketId"])),methods:{handleGetHomeSale:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e){var a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(bt["b"])({marketId:e});case 2:a=t.sent,r=a.data,this.saleTrend=r.data.saleTrend,this.saleData=r.data.saleDate,this.saleClassify=r.data.saleClassify,this.customerPay=r.data.customerPay;case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},watch:{"$store.state.MarketId":function(t){t&&this.handleGetHomeSale(t)},immediate:!0}},Xt=Qt,te=Object(lt["a"])(Xt,jt,Ct,!1,null,null,null),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-alert",{attrs:{title:"欢迎来到24igo crm可视化操作页面。",type:"success",closable:!1}})],1)},re=[],ne={},se=ne,ie=Object(lt["a"])(se,ae,re,!1,null,null,null),oe=ie.exports,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"pay-interval__title"},[t._v("消费区间分析")])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"pay-interval__cake"},[a("div",{staticClass:"pay-interval__cake__title"},[a("span",[t._v("消费区间占比")])]),a("CakeG2",{attrs:{id:"cake",list:t.payIntervalCakeData}})],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"pay-interval__trend"},[a("div",{staticClass:"pay-interval__trend_title"},[a("span",[t._v("消费区间走势")]),a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.handlechangeDate},model:{value:t.PayIntervalvalue,callback:function(e){t.PayIntervalvalue=e},expression:"PayIntervalvalue"}})],1),a("TrendG2",{staticClass:"TrendG2",attrs:{id:"trend",list:t.payIntervalTrendData}})],1)])],1),a("el-row",[a("el-col",[a("DataTable",{attrs:{list:t.tableData,"current-page":1,total:10}})],1)],1)],1)},ce=[],de=a("f499"),ue=a.n(de),he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t.id}})},me=[],fe={props:{id:String,list:{type:Array,default:function(){return[]}}},watch:{list:{handler:function(t){this.hanldeMakeCakeG2(t)},immediate:!1}},data:function(){return{chart:null}},methods:{hanldeMakeCakeG2:function(t){this.chart&&this.chart.destroy(),this.chart=new Et.a.Chart({container:this.id,forceFit:!0,height:350}),this.chart.source(t,{percent:{formatter:function(t){var e=t;return e="".concat(Math.round(100*t),"%"),e}}}),this.chart.coord("theta",{radius:.75}),this.chart.tooltip({showTitle:!1,itemTpl:'<li><span style="background-color:{color}" class="g2-tooltip-marker"></span>{name}: {value}</li>'}),this.chart.intervalStack().position("percent").color("item").label("percent",{formatter:function(t,e){return"".concat(e.point.item,":").concat(t)}}).tooltip("item*percent",function(t,e){var a=e;return a="".concat(Math.round(100*e),"%"),{name:t,value:a}}).style({lineWidth:1,stroke:"#fff"}),this.chart.render()}}},pe=fe,ve=Object(lt["a"])(pe,he,me,!1,null,null,null),ye=ve.exports,be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t.id}})},ge=[],ke={props:{id:String,list:{type:Array,default:function(){return[]}}},watch:{list:{handler:function(t){this.hanldeMakeTrendG2(t)},immediate:!1}},data:function(){return{chart:null}},methods:{hanldeMakeTrendG2:function(t){this.chart&&this.chart.destroy(),this.chart=new Et.a.Chart({container:this.id,forceFit:!0,height:350,padding:[20,50,80,60]}),this.chart.source(t,{date:{range:[0,1]}}),this.chart.tooltip({crosshairs:{type:"line"}}),this.chart.axis("value",{label:{formatter:function(t){return"".concat(t,"元")}}}),this.chart.line().position("date*value").color("type"),this.chart.point().position("date*value").color("type").size(4).shape("circle").style({stroke:"#fff",lineWidth:1}),this.chart.render()}}},De=ke,_e=Object(lt["a"])(De,be,ge,!1,null,null,null),je=_e.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-table"},[a("div",{staticClass:"data-table__tool"},[a("el-popover",{attrs:{placement:"bottom",trigger:"click"}},[a("div",{staticStyle:{padding:"10px"}},[a("el-checkbox-group",{model:{value:t.keys,callback:function(e){t.keys=e},expression:"keys"}},t._l(t.originKeys,function(e){return a("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])}),1)],1)]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.handleSaveExcel}},[t._v("导出Excel")])],1),a("el-table",{staticStyle:{margin:"10px 0"},attrs:{border:"",height:"300px",data:t.list}},t._l(t.keys,function(t){return a("el-table-column",{key:t,attrs:{prop:t,label:t,align:"center"}})}),1),a("div",{staticClass:"data-table__footer"})],1)},xe=[],Te=(a("ac6a"),a("6b54"),a("a4bb")),we=a.n(Te),Ye=a("a745"),Me=a.n(Ye),Se=(a("7618"),a("1146")),Ge=a.n(Se),Ie=9,Oe=function(t,e,a){if(!Me()(t))throw new Error("data is must be Array");var r=Ge.a.utils.aoa_to_sheet(t),n=Ge.a.utils.book_new();Ge.a.utils.book_append_sheet(n,r,e),Ge.a.writeFile(n,a)};if("undefined"!==typeof Element&&!Element.prototype.matches){var $e=Element.prototype;$e.matches=$e.matchesSelector||$e.webkitMatchesSelector||$e.msMatchesSelector||$e.mozMatchesSelector}function Ee(t,e){var a=t;while(a&&a.nodeType!==Ie){if("function"===typeof a.matches&&a.matches(e))return a;a=a.parentNode}return!1}var Pe={props:{list:{type:Array,default:function(){return[]}},currentPage:{type:Number,default:1},total:{type:Number,default:0},listDate:{type:Array,default:function(){return[]}}},data:function(){return{keys:[],checkedKey:[],originKeys:[]}},watch:{list:{handler:function(t){t.length&&(this.originKeys=we()(t[0]),this.keys=this.originKeys)},immediate:!0},listDate:{handler:function(t){t.length&&(this.listDate=t)},immediate:!0}},methods:{handleCurrentChange:function(t){this.$emit("page-change",t)},handleSaveExcel:function(){if(this.keys.toString()===["日期","购买方式","数量"].toString()){var t=[this.keys],e=this.list.map(function(t){var e=t.日期,a=t.购买方式,r=t.数量;return[e,a,r]}),a=t.concat(e);Oe(a,"订单类型列表","订单类型列表.xlsx")}if(this.keys.toString()===["日期","订单类型","金额"].toString()){var r=[this.keys],n=this.list.map(function(t){var e=t.日期,a=t.订单类型,r=t.金额;return[e,a,r]}),s=r.concat(n);Oe(s,"消费区间列表","消费区间列表.xlsx")}if(this.keys.toString()===["日期","货物分类","数量"].toString()){var i=[this.keys],o=this.list.map(function(t){var e=t.日期,a=t.货物分类,r=t.数量;return[e,a,r]}),l=i.concat(o);Oe(l,"下单时间列表","下单时间列表.xlsx")}if(this.keys.toString()===["商品类型","数量"].toString()){var c=[this.keys],d=this.list.map(function(t){var e=t.商品类型,a=t.数量;return[e,a]}),u=c.concat(d);0!==this.listDate.length?Oe(u,"商品销售列表","".concat(this.listDate[0],"到").concat(this.listDate[1],"商品销售列表.xlsx")):Oe(u,"商品销售列表","一周商品销售列表.xlsx")}}}},Le=Pe,He=(a("bf17"),Object(lt["a"])(Le,Ce,xe,!1,null,null,null)),Ae=He.exports,ze={data:function(){return{value2:"",PayIntervalvalue:[],tableData:[],payIntervalCakeData:[],payIntervalTrendData:[]}},watch:{"$store.state.MarketId":function(t){if(t){var e=this.$moment().subtract(1,"months").format("YYYY-MM-DD"),a=this.$moment().format("YYYY-MM-DD");this.handleGetALLPayintervalG2Data(t,e,a),this.PayIntervalvalue=[e,a]}},immediate:!0},methods:{handleGetALLPayintervalG2Data:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e){var a,r,n,s,i,o,l,c,d=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=d.length>1&&void 0!==d[1]?d[1]:null,r=d.length>2&&void 0!==d[2]?d[2]:null,t.next=4,Object(bt["j"])({marketId:e,start:a,end:r});case 4:n=t.sent,s=n.data.data,i=s.payIntervalCake,o=s.payIntervalTrend,this.payIntervalCakeData=i,this.payIntervalTrendData=o,l=JSON.parse(ue()(o)),c=l.map(function(t){return{"日期":t.date,"订单类型":t.type,"金额":t.value}}),this.tableData=c;case 13:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),handlechangeDate:function(){var t=localStorage.getItem("marketId"),e=this.$moment(this.PayIntervalvalue[0]).format("YYYY-MM-DD"),a=this.$moment(this.PayIntervalvalue[1]).format("YYYY-MM-DD");this.handleGetALLPayintervalG2Data(t,e,a)}},components:{CakeG2:ye,TrendG2:je,DataTable:Ae},mounted:function(){var t=localStorage.getItem("marketId"),e=this.$moment().subtract(1,"months").format("YYYY-MM-DD"),a=this.$moment().format("YYYY-MM-DD");this.PayIntervalvalue=[e,a],this.handleGetALLPayintervalG2Data(t,e,a)}},Fe=ze,Ne=(a("98f4"),Object(lt["a"])(Fe,le,ce,!1,null,null,null)),Re=Ne.exports,We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"order-type__header"},[a("div",{staticClass:"order-type__title"},[t._v("订单类型分析")])])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"order-type__picture"},[a("div",{staticClass:"order-type__picture-select"},[a("div",{staticClass:"order-type__picture-title"},[t._v("订单类型-方式分析")]),a("div",{staticClass:"order-type__picture-type"},[a("el-date-picker",{staticClass:"el-date-picker",attrs:{type:"daterange",size:"small",align:"right","unlink-panels":"","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.change},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1)]),a("div",{staticClass:"order-type__picture-g2"},[a("orderTypeHistogramG2",{attrs:{id:"c1",list:t.orderTypeDataG2}})],1)])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("DataTable",{attrs:{list:t.tableData,"current-page":1,total:10}})],1)],1)],1)},Ke=[],qe=a("e814"),Be=a.n(qe),Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t.id}})},Je=[],Ve=(a("a481"),a("7f7f"),{props:{id:String,list:{type:Array,default:function(){return[]}}},watch:{list:{handler:function(t){this.hanldeMakeTrendDateG2(t)},immediate:!1}},data:function(){return{chart:null}},methods:{hanldeMakeTrendDateG2:function(t){this.chart&&this.chart.destroy(),this.chart=new Et.a.Chart({container:this.id,forceFit:!0,height:400,padding:[100,40,30,45]}),this.chart.source(t),this.chart.tooltip({follow:!1,crosshairs:"y",htmlContent:function(t,e){for(var a={APP:"app下单","小程序":"小程序下单","触摸屏":"触摸屏下单"},r='<div class="order-type__tooltip">',n=0;n<e.length;n+=1){var s=e[n],i=s.color,o=a[s.name],l=s.value,c='<div class="order-type__tooltip-item" style="border-left-color:'.concat(i,'">'),d='<div class="order-type__tooltip-item-name">'.concat(o,"</div>"),u='<div class="order-type__tooltip-item-value">'.concat(l,"</div>"),h="</div>";r+=c+d+u+h}return"".concat(r,"</div>")}}),this.chart.axis("date",{label:{textStyle:{fill:"#aaaaaa"}}}),this.chart.axis("value",{label:{textStyle:{fill:"#aaaaaa"},formatter:function(t){return t.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")}}}),this.chart.legend(!1),this.chart.line().position("date*value").color("type"),this.chart.render(),this.chart.showTooltip({x:200,y:100})}}}),Ze=Ve,Qe=(a("327e"),Object(lt["a"])(Ze,Ue,Je,!1,null,null,null)),Xe=Qe.exports,ta={data:function(){return{value2:[],value:"",orderTypeDataG2:[],orderTypeDataG2Copy:[],tableData:[],tableDataCopy:[]}},watch:{"$store.state.MarketId":function(t){if(t){var e=this.$moment().subtract(1,"months").format("YYYY-MM-DD"),a=this.$moment().format("YYYY-MM-DD");this.handleGetOrderTypeData(t,e,a),this.value2=[e,a]}},immediate:!0},methods:{change:function(){var t=this.$moment(this.value2[0]).format("YYYY-MM-DD"),e=this.$moment(this.value2[1]).format("YYYY-MM-DD"),a=localStorage.getItem("marketId");this.handleGetOrderTypeData(a,t,e)},handleGetOrderTypeData:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e,a,r){var n,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(bt["i"])({marketId:e,start:a,end:r});case 2:n=t.sent,s=n.data.data,this.orderTypeDataG2=s,console.log(s),this.orderTypeDataG2Copy=s,i=s.map(function(t){return{"日期":t.date,"购买方式":t.type,"数量":t.value}}),this.tableData=i,this.tableDataCopy=i;case 10:case"end":return t.stop()}},t,this)}));function e(e,a,r){return t.apply(this,arguments)}return e}(),handleSelectOrderType:function(t,e,a,r){var n=t.target,s=Ee(n,e),i=Ee(n,a),o=Ee(n,r);s?(this.tableData=this.tableDataCopy,this.orderTypeDataG2=this.orderTypeDataG2Copy):i?(this.tableData=this.tableDataCopy.filter(function(t){return"自取"===t.取货类型}),this.orderTypeDataG2=this.orderTypeDataG2Copy.filter(function(t){return"自取"===t.getType})):o&&(this.tableData=this.tableDataCopy.filter(function(t){return"配送"===t.取货类型}),this.orderTypeDataG2=this.orderTypeDataG2Copy.filter(function(t){return"配送"===t.getType}))},formatter:function(t){return t.address},getNowWeekDays:function(){var t=[],e=Be()(this.$moment().format("d"),10),a=this.$moment().subtract(e,"days").format("YYYY-MM-DD"),r=this.$moment().format("YYYY-MM-DD");t.push(a),t.push(r)}},components:{orderTypeHistogramG2:Xe,DataTable:Ae},mounted:function(){var t=localStorage.getItem("marketId"),e=this.$moment().subtract(1,"months").format("YYYY-MM-DD"),a=this.$moment().format("YYYY-MM-DD");this.handleGetOrderTypeData(t,e,a),this.value2=[e,a]}},ea=ta,aa=(a("6aea"),Object(lt["a"])(ea,We,Ke,!1,null,null,null)),ra=aa.exports,na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"order-time__title"},[t._v("下单时间分析")])])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"order-time__focus-picture"},[a("div",{staticClass:"order-time__word"},[a("span",[t._v("24小时-支付笔数走势图")]),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},on:{change:t.trendDayChange},model:{value:t.valueDayDate,callback:function(e){t.valueDayDate=e},expression:"valueDayDate"}})],1),a("div",{staticClass:"order-time__show"},[a("OrderTimeTrendG2",{attrs:{id:"OrderTimeTrendG2",list:t.orderTimeTrendDayData}})],1)])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"order-time__cake"},[a("div",{staticClass:"order-time__cake__title"},[a("span",[t._v("24小时-下单时间占比")])]),a("OrderTimeCakeG2",{staticClass:"cakeG2",attrs:{id:"cake",list:t.orderTimeCakeData}})],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"order-time__trend"},[a("div",{staticClass:"order-time__trend_title"},[a("span",[t._v("下单时间-商品销售")]),a("el-date-picker",{attrs:{size:"mini",type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.trendChange},model:{value:t.valueTrendDate,callback:function(e){t.valueTrendDate=e},expression:"valueTrendDate"}})],1),a("OrderTimeTrendDateG2",{staticClass:"trendG2",attrs:{id:"trend",list:t.orderTimeTrendDateData}})],1)])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("DataTable",{attrs:{list:t.tableData,"current-page":1,total:10}})],1)],1)],1)},sa=[],ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t.id}})},oa=[],la=(a("28a5"),a("7104")),ca={props:{id:String,list:{type:Array,default:function(){return[]}}},watch:{list:{handler:function(t){this.hanldeMakeOrderTimeTrendG2(t)},immediate:!1}},data:function(){return{chart:null}},methods:{hanldeMakeOrderTimeTrendG2:function(t){this.chart&&this.chart.destroy(),this.chart=new Et.a.Chart({container:this.id,forceFit:!0,height:300,padding:[20,110,50,50]});var e=new la["DataSet"],a=e.createView().source(t);a.transform({type:"map",callback:function(t){var e=t,a=e.time.split(" ");return e.date=a[0],e.time=a[1],e}}),this.chart.axis("time",{label:{textStyle:{fill:"#aaaaaa"}}}),this.chart.axis("count",{label:{textStyle:{fill:"#aaaaaa"},formatter:function(t){return"".concat(t,"笔")}}}),this.chart.tooltip({crosshairs:!1}),this.chart.legend({attachLast:!0}),this.chart.source(a,{time:{tickCount:12},date:{type:"cat"}}),this.chart.line().position("time*count").color("date",["#1890ff","#1890ff"]),this.chart.render(),this.chart.repaint()}}},da=ca,ua=Object(lt["a"])(da,ia,oa,!1,null,null,null),ha=ua.exports,ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t.id}})},fa=[],pa={props:{id:String,list:{type:Array,default:function(){return[]}}},watch:{list:{handler:function(t){this.hanldeMakeOneDayCakeG2(t)},immediate:!1,deep:!0}},data:function(){return{chart:null}},methods:{hanldeMakeOneDayCakeG2:function(t){this.chart&&this.chart.destroy(),this.chart=new Et.a.Chart({container:this.id,forceFit:!0,height:400}),this.chart.source(t,{percent:{formatter:function(t){var e=t;return e="".concat(Math.round(100*t),"%"),e}}}),this.chart.coord("theta",{radius:.75}),this.chart.tooltip({showTitle:!1,itemTpl:'<li><span style="background-color:{color}" class="g2-tooltip-marker"></span>{name}: {value}</li>'}),this.chart.intervalStack().position("percent").color("item").label("percent",{formatter:function(t,e){return"".concat(e.point.item,":").concat(t)}}).tooltip("item*percent",function(t,e){var a=e;return a="".concat(Math.round(100*a),"%"),{name:t,value:a}}).style({lineWidth:1,stroke:"#fff"}),this.chart.render()}}},va=pa,ya=Object(lt["a"])(va,ma,fa,!1,null,null,null),ba=ya.exports,ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t.id}})},ka=[],Da={props:{id:String,list:{type:Array,default:function(){return[]}}},watch:{list:{handler:function(t){var e={};t.map(function(t){return e[t.type]=t.name,e}),this.hanldeMakeTrendDateG2(t,e)},immediate:!1}},data:function(){return{chart:null}},methods:{hanldeMakeTrendDateG2:function(t,e){this.chart&&this.chart.destroy();var a=e;this.chart=new Et.a.Chart({container:this.id,forceFit:!0,height:400,padding:[100,43,30,35]}),this.chart.source(t),this.chart.tooltip({follow:!1,crosshairs:"y",htmlContent:function(t,e){for(var r=a,n='<div class="order-time__tooltip">',s=0;s<e.length;s+=1){var i=e[s],o=i.color,l=r[i.name],c=i.value,d='<div class="order-time__tooltip-item" style="border-left-color:'.concat(o,'">'),u='<div class="order-time__tooltip-item-name">'.concat(l,"</div>"),h='<div class="order-time__tooltip-item-value">'.concat(c,"</div>"),m="</div>";n+=d+u+h+m}return"".concat(n,"</div>")}}),this.chart.axis("date",{label:{textStyle:{fill:"#aaaaaa"}}}),this.chart.axis("value",{label:{textStyle:{fill:"#aaaaaa"},formatter:function(t){return"".concat(t,"个")}}}),this.chart.legend(!1),this.chart.line().position("date*value").color("type"),this.chart.render(),this.chart.showTooltip({x:200,y:100})}}},_a=Da,ja=(a("350b"),Object(lt["a"])(_a,ga,ka,!1,null,null,null)),Ca=ja.exports,xa={data:function(){return{valueDayDate:"",valueTrendDate:[],tableData:[],orderTimeCakeData:[],orderTimeTrendDayData:[],orderTimeTrendDateData:[]}},watch:{"$store.state.MarketId":function(t){if(t){var e=this.$moment().format("YYYY-MM-DD");this.handleGetOrderTimeCakeG2Data(t,e),this.handleGetOrderTimeTrendDayG2Data(t,e),this.valueDayDate=e;var a=this.$moment().subtract("days",7).format("YYYY-MM-DD"),r=this.$moment().format("YYYY-MM-DD");this.handleGetOrderTimeTrendG2Data(t,a,r),this.valueTrendDate=[a,r]}},immediate:!0},methods:{trendDayChange:function(){var t=localStorage.getItem("marketId"),e=this.$moment(this.valueDayDate).format("YYYY-MM-DD");this.handleGetOrderTimeTrendDayG2Data(t,e),this.handleGetOrderTimeCakeG2Data(t,e)},trendChange:function(){var t=this.$moment(this.valueTrendDate[0]).format("YYYY-MM-DD"),e=this.$moment(this.valueTrendDate[1]).format("YYYY-MM-DD"),a=localStorage.getItem("marketId");this.handleGetOrderTimeTrendG2Data(a,t,e)},handleGetOrderTimeCakeG2Data:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e,a){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(bt["f"])({marketId:e,Day:a});case 2:r=t.sent,n=r.data.data,this.orderTimeCakeData=n;case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleGetOrderTimeTrendDayG2Data:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e,a){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(bt["h"])({marketId:e,Day:a});case 2:r=t.sent,n=r.data.data,this.orderTimeTrendDayData=n;case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleGetOrderTimeTrendG2Data:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e){var a,r,n,s,i,o,l,c=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:null,r=c.length>2&&void 0!==c[2]?c[2]:null,t.next=4,Object(bt["g"])({marketId:e,start:a,end:r});case 4:n=t.sent,s=n.data.data,this.orderTimeTrendDateData=s,i=JSON.parse(ue()(s)),o=[],i.map(function(t){var e=t;return delete e.type,o.push(e),o}),l=o.map(function(t){return{"日期":t.date,"货物分类":t.name,"数量":t.value}}),this.tableData=l;case 12:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},components:{OrderTimeTrendG2:ha,OrderTimeCakeG2:ba,OrderTimeTrendDateG2:Ca,DataTable:Ae},mounted:function(){var t=this.$moment().format("YYYY-MM-DD"),e=localStorage.getItem("marketId");this.handleGetOrderTimeCakeG2Data(e,t),this.handleGetOrderTimeTrendDayG2Data(e,t),this.valueDayDate=t;var a=this.$moment().subtract("days",7).format("YYYY-MM-DD"),r=this.$moment().format("YYYY-MM-DD");this.handleGetOrderTimeTrendG2Data(e,a,r),this.valueTrendDate=[a,r]}},Ta=xa,wa=(a("ad27"),Object(lt["a"])(Ta,na,sa,!1,null,null,null)),Ya=wa.exports,Ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"pay-interval__title"},[t._v("商品销售类型分析")])])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"goods-kind__container"},[a("div",{staticClass:"goods-kind__header"},[a("div",[t._v("一级分类")]),a("div",[a("el-input",{attrs:{type:"number",min:"1",max:"10",size:"small",placeholder:"1~10",onkeypress:"return (/[\\d]/.test(String.fromCharCode(event.keyCode)))"},model:{value:t.inputNumber,callback:function(e){t.inputNumber=e},expression:"inputNumber"}})],1),a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.changeCake},model:{value:t.timeCake,callback:function(e){t.timeCake=e},expression:"timeCake"}})],1),a("GoodsCake",{attrs:{id:"goodsCake",list:t.goodsCake}})],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"goods-kind__container"},[a("div",{staticClass:"goods-kind__header"},[a("div",[t._v("一级商品分类销售占比")]),a("el-date-picker",{attrs:{size:"small",align:"right","unlink-panels":"",type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.changeHistogram},model:{value:t.timeHistogram,callback:function(e){t.timeHistogram=e},expression:"timeHistogram"}})],1),a("GoodsHistogram",{attrs:{id:"goodsHistogram",list:t.goodsHistogram}})],1)])],1),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:24}},[a("data-table",{attrs:{"current-page":1,total:100,list:t.tableDate,listDate:t.listDate}})],1)],1)],1)},Sa=[],Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t.id}})},Ia=[],Oa={props:{id:String,list:{type:Array,default:function(){return[]}}},watch:{list:{handler:function(t){this.drawPie(t)},immediate:!1}},data:function(){return{chart:null}},methods:{drawPie:function(t){this.chart&&this.chart.destroy();var e=new la["DataSet"].DataView;e.source(t).transform({type:"percent",field:"value",dimension:"type",as:"percent"}),this.chart=new Et.a.Chart({container:this.id,forceFit:!0,height:400,padding:[20,20,20,20]}),this.chart.source(e,{percent:{formatter:function(t){var e=t;return e="".concat((100*e).toFixed(2),"%"),e}}}),this.chart.coord("theta",{radius:.5}),this.chart.tooltip({showTitle:!1}),this.chart.legend(!1),this.chart.intervalStack().position("percent").color("type").label("type",{offset:-10}).tooltip("name*percent",function(t,e){var a="".concat((100*e).toFixed(2),"%");return{name:t,value:a}}).select(!1).style({lineWidth:1,stroke:"#FFF"});var a=this.chart.view(),r=new la["DataSet"].DataView;r.source(t).transform({type:"percent",field:"value",dimension:"name",as:"percent"}),a.source(r,{percent:{formatter:function(t){var e=t;return e="".concat((100*e).toFixed(2),"%"),e}}}),a.coord("theta",{innerRadius:.5/.75,radius:.75}),a.intervalStack().position("percent").color("name",["#BAE7FF","#7FC9FE","#71E3E3","#ABF5F5","#8EE0A1","#BAF5C4"]).label("name").tooltip("name*percent",function(t,e){var a="".concat((100*e).toFixed(2),"%");return{name:t,value:a}}).select(!1).style({lineWidth:1,stroke:"#fff"}),this.chart.render()}}},$a=Oa,Ea=Object(lt["a"])($a,Ga,Ia,!1,null,null,null),Pa=Ea.exports,La=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t.id}})},Ha=[],Aa={props:{id:String,list:{type:Array,default:function(){return[]}}},watch:{list:{handler:function(t){this.drawHistogram(t)},immediate:!1}},data:function(){return{chart:null}},methods:{drawHistogram:function(t){this.chart&&this.chart.destroy(),this.chart=new Et.a.Chart({container:this.id,forceFit:!0,height:400,padding:[20,20,80,90]}),this.chart.source(t,{value:{tickCount:5}}),this.chart.legend(!1),this.chart.axis("value",{label:{textStyle:{fill:"#aaaaaa"}},title:{offset:70}}),this.chart.scale("value",{alias:"销售数量"}),this.chart.axis("type",{label:{textStyle:{fill:"#aaaaaa"}},position:"bottom",tickLine:{alignWithLabel:!1,length:0}}),this.chart.tooltip({share:!0}),this.chart.interval().position("type*value").opacity(1),this.chart.render()}}},za=Aa,Fa=Object(lt["a"])(za,La,Ha,!1,null,null,null),Na=Fa.exports,Ra={data:function(){return{timeCake:[],timeHistogram:[],tableDate:[],chart1:null,chart2:null,goodsCake:[],goodsHistogram:[],listDate:[],inputNumber:3}},watch:{inputNumber:{handler:function(t){var e=t;if(e){e<0&&(this.inputNumber=1,e=1),e>10&&(this.inputNumber=10,e=10);var a=localStorage.getItem("marketId"),r=this.$moment(this.timeCake[0]).format("YYYY-MM-DD"),n=this.$moment(this.timeCake[1]).format("YYYY-MM-DD");this.handleGetCakeData(a,r,n,e)}}},"$store.state.MarketId":function(t){if(t){var e=this.$moment().subtract("days",7).format("YYYY-MM-DD"),a=this.$moment().format("YYYY-MM-DD");this.handleGetCakeData(t,e,a,this.inputNumber),this.handleGetHistogramData(t,e,a),this.timeCake=[e,a],this.timeHistogram=[e,a]}},immediate:!0},methods:{changeCake:function(){var t=this.$moment(this.timeCake[0]).format("YYYY-MM-DD"),e=this.$moment(this.timeCake[1]).format("YYYY-MM-DD"),a=localStorage.getItem("marketId");this.handleGetCakeData(a,t,e,this.inputNumber)},changeHistogram:function(){var t=this,e=this.$moment(this.timeHistogram[0]).format("YYYY-MM-DD"),a=this.$moment(this.timeHistogram[1]).format("YYYY-MM-DD"),r=localStorage.getItem("marketId");this.handleGetHistogramData(r,e,a);var n=[];this.timeHistogram.map(function(e){var a=e,r=t.$moment(a).format("YYYY-MM-DD");return n.push(r),n}),this.listDate=n},handleGetCakeData:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e,a,r,n){var s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(bt["c"])({marketId:e,start:a,end:r,number:n});case 2:s=t.sent,i=s.data.data,this.goodsCake=i;case 5:case"end":return t.stop()}},t,this)}));function e(e,a,r,n){return t.apply(this,arguments)}return e}(),handleGetHistogramData:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e,a,r){var n,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(bt["d"])({marketId:e,start:a,end:r});case 2:n=t.sent,s=n.data.data,this.goodsHistogram=s,i=s.map(function(t){return{"商品类型":t.type,"数量":t.value}}),this.tableDate=i;case 7:case"end":return t.stop()}},t,this)}));function e(e,a,r){return t.apply(this,arguments)}return e}()},components:{GoodsCake:Pa,GoodsHistogram:Na,DataTable:Ae},mounted:function(){var t=this.$moment().subtract("days",7).format("YYYY-MM-DD"),e=this.$moment().format("YYYY-MM-DD"),a=localStorage.getItem("marketId");this.handleGetCakeData(a,t,e,this.inputNumber),this.handleGetHistogramData(a,t,e),this.timeCake=[t,e],this.timeHistogram=[t,e]}},Wa=Ra,Ka=(a("68cc"),Object(lt["a"])(Wa,Ma,Sa,!1,null,null,null)),qa=Ka.exports;rt["default"].use(ht["a"]);var Ba=new ht["a"]({mode:"history",base:"/",routes:[{path:"/",component:_t,children:[{path:"/",component:oe},{path:"/home",component:ee},{path:"/orderType",component:ra},{path:"/payInterval",component:Re},{path:"/orderTime",component:Ya},{path:"/goods",component:qa},{path:"/market",name:"Market",component:function(){return a.e("chunk-c8a96ace").then(a.bind(null,"e8d9"))},mate:{title:"超市状态"}}]}]});rt["default"].use(yt["a"]);var Ua=new yt["a"].Store({state:{MarketList:[],MarketId:"",HomeSale:{saleData:{},saleTrend:[],saleClassify:[],customerPay:[]}},mutations:{updateHomeSale:function(t,e){var a=t,r=e.saleData,n=e.saleTrend,s=e.saleClassify,i=e.customerPay;a.HomeSale.saleData=r,a.HomeSale.saleTrend=n,a.HomeSale.saleClassify=s,a.HomeSale.customerPay=i},updateMarketId:function(t,e){var a=t,r=localStorage.getItem("marketId");r===e?a.MarketId=localStorage.setItem("marketId",e):(a.MarketId=e,localStorage.setItem("marketId",e))},updateMarketList:function(t,e){var a=t;a.MarketList=e}},actions:{}});rt["default"].prototype.$moment=st.a,rt["default"].use(at.a),rt["default"].use(tt.a),rt["default"].use(Q.a),rt["default"].use(V.a),rt["default"].use(U.a),rt["default"].use(q.a),rt["default"].use(W.a),rt["default"].use(N.a),rt["default"].use(z.a),rt["default"].use(H.a),rt["default"].use(P.a),rt["default"].use($.a),rt["default"].use(I.a),rt["default"].use(S.a),rt["default"].use(Y.a),rt["default"].use(T.a),rt["default"].use(C.a),rt["default"].use(_.a),rt["default"].use(k.a),rt["default"].use(b.a),rt["default"].use(v.a),rt["default"].use(f.a),rt["default"].use(h.a),rt["default"].use(d.a),rt["default"].use(l.a),rt["default"].config.productionTip=!1,rt["default"].prototype.$msgbox=i.a,rt["default"].prototype.$message=n.a,new rt["default"]({router:Ba,store:Ua,render:function(t){return t(ut)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var r=a("b19e"),n=a.n(r);n.a},"68cc":function(t,e,a){"use strict";var r=a("6e49"),n=a.n(r);n.a},"6aea":function(t,e,a){"use strict";var r=a("2cdb"),n=a.n(r);n.a},"6e49":function(t,e,a){},"6e8a":function(t,e,a){"use strict";var r=a("94ad"),n=a.n(r);n.a},9394:function(t,e,a){},"94ad":function(t,e,a){},"98f4":function(t,e,a){"use strict";var r=a("3097"),n=a.n(r);n.a},a474:function(t,e,a){"use strict";a.d(e,"a",function(){return c}),a.d(e,"b",function(){return d}),a.d(e,"i",function(){return u}),a.d(e,"j",function(){return h}),a.d(e,"f",function(){return m}),a.d(e,"h",function(){return f}),a.d(e,"g",function(){return p}),a.d(e,"c",function(){return v}),a.d(e,"d",function(){return y}),a.d(e,"e",function(){return b});var r=a("4aa6"),n=a.n(r),s=a("795b"),i=a.n(s),o=a("bc3a"),l=a.n(o);l.a.defaults.timeout=1e4,l.a.defaults.baseURL="/api/",l.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",l.a.interceptors.request.use(function(t){return t},function(t){return i.a.reject(t)}),l.a.interceptors.response.use(function(t){return t},function(t){if(t.response){var e=t.response.status;console.log(e)}return console.log(t),i.a.resolve(n()(null))});var c=function(t){return l.a.post("homeSale/marketList",{},{params:t})},d=function(t){return l.a.post("homeSale/saleInfo",{},{params:t})},u=function(t){return l.a.post("order/orderType",{},{params:t})},h=function(t){return l.a.post("pay/payInterval",{},{params:t})},m=function(t){return l.a.post("/order/orderTimeCake",{},{params:t})},f=function(t){return l.a.post("order/orderTimeTrendDayData",{},{params:t})},p=function(t){return l.a.post("order/orderTimeTrendData",{},{params:t})},v=function(t){return l.a.post("goods/goodsCake",{},{params:t})},y=function(t){return l.a.post("goods/goodsHistogram",{},{params:t})},b=function(t){return l.a.post("market/marketTime",{},{params:t})}},a998:function(t,e,a){},ad27:function(t,e,a){"use strict";var r=a("564d"),n=a.n(r);n.a},b19e:function(t,e,a){},bf17:function(t,e,a){"use strict";var r=a("2703"),n=a.n(r);n.a},ca9c:function(t,e,a){"use strict";var r=a("9394"),n=a.n(r);n.a},cf7b:function(t,e,a){}});
//# sourceMappingURL=app.fcab464d.js.map